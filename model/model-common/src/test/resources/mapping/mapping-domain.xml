<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2017 Evolveum and contributors
  ~
  ~ Licensed under the EUPL-1.2 or later.
  -->

<mapping xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3">
    <name>domain mapping</name>
    <source>
        <path>additionalName</path>
    </source>
    <source>
        <!-- we need multivalue input -->
        <path>subtype</path>
        <set>
            <condition>
                <script>
                    <code>subtype.isNumber()</code>
                </script>
            </condition>
        </set>
    </source>
    <expression>
        <script>
            <code>'Pirate '+ additionalName + ' ('+subtype+')'</code>
        </script>
    </expression>
</mapping>
