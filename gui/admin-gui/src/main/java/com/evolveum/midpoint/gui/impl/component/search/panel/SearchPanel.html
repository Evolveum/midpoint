<?xml version="1.0" encoding="UTF-8" ?>
<!--
  ~ Copyright (c) 2021 Evolveum
  ~
  ~ This work is dual-licensed under the Apache License 2.0
  ~ and European Union Public License. See LICENSE file for details.
  -->
<wicket:panel xmlns:wicket="http://wicket.apache.org">
    <form wicket:id="form" class="search-panel-form d-flex flex-wrap justify-content-end gap-1 align-items-start">

        <div wicket:id="typeSelector"></div>

        <wicket:container wicket:id="searchItemsPanel"/>

        <div wicket:id="searchButtonPanel" />

        <div class="btn-group btn-group-sm" wicket:id="saveSearchContainer">
            <button type="button" class="btn btn-default" wicket:id="saveSearchButton">
                <i class="fa fa-save"></i>
            </button>
            <button wicket:id="savedSearchMenu" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                <span class="caret"></span>
            </button>
            <div class="dropdown-menu dropdown-menu-right" style="max-width: 500px;" role="menu" wicket:id="savedFilterMenu">
                <label class="px-2 w-100 text-center"><wicket:message key="SearchPanel.savedFilters" /></label>
                <div class="dropdown-item d-flex justify-content-between align-items-center" wicket:id="savedFilterItem">
                    <a wicket:id="savedFilterName" class="list-group-menu text-truncate d-inline-block">
                        <wicket:container wicket:id="savedFilterNameLabel" />
                    </a>
                    <a type="button" class="btn btn-xs" style="pointer-events: none !important;" wicket:id="savedFilterRemoveButton">
                        <i class="fa fa-trash text-danger"></i>
                    </a>
                </div>
            </div>
        </div>
    </form>

    <wicket:fragment wicket:id="basicSearchFragment">
        <wicket:container wicket:id="items">
            <div wicket:id="item"/>
        </wicket:container>
        <button wicket:id="more" class="btn btn-sm btn-default">
            <wicket:message key="SearchPanel.more"/>
            &nbsp;
            <span class="fa fa-caret-down"></span>
        </button>
        <div wicket:id="morePropertiesPopover"/>
    </wicket:fragment>

    <wicket:fragment wicket:id="advancedSearchFragment">
        <a class="btn btn-sm btn-link" wicket:id="debug" />
        <div class="d-flex flex-column flex-grow-1 align-items-end has-feedback" wicket:id="advancedGroup">
            <textarea class="form-control form-control-sm mp-w-12" rows="2" wicket:id="advancedArea"></textarea>
            <input wicket:id="axiomQueryField" type="text" class="form-control form-control-sm mp-w-12"/>
            <span class="text-wrap" wicket:id="advancedError"/>
        </div>
    </wicket:fragment>

    <wicket:fragment wicket:id="fulltextSearchFragment">
        <div wicket:id="fullTextContainer" style="width: 100%; max-width: 275px;">
            <input wicket:id="fullTextField" type="text" class="form-control form-control-sm"/>
        </div>
    </wicket:fragment>

    <wicket:fragment wicket:id="oidSearchFragment">
        <div wicket:id="oidItem" class="form-group" style="float:right; padding-right: 5px; margin-bottom: 5px; text-align-last: left;"/>
    </wicket:fragment>

    <wicket:child/>

</wicket:panel>
