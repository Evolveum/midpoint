<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<!--
  ~ Copyright (c) 2010-2013 Evolveum
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<objects xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
         xmlns:xsd="http://www.w3.org/2001/XMLSchema"
         xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instance/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2"
         xmlns:icfs="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/resource-schema-3"
         xmlns:my="http://myself.me/schemas/whatever"
         xmlns:t="http://prism.evolveum.com/xml/ns/public/types-3"
         xmlns:p="http://example.com/p"
         xmlns:q="http://prism.evolveum.com/xml/ns/public/query-3"
         xsi:schemaLocation="http://midpoint.evolveum.com/xml/ns/public/common/common-3 ../../../../../../infra/schema/src/main/resources/xml/ns/public/common/common-core-3.xsd
         http://prism.evolveum.com/xml/ns/public/query-3 ../../../../../../infra/prism/src/main/resources/xml/ns/public/query-3.xsd">

    <user version="1" xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
        <c:name>atestuserX00002</c:name>

        <lifecycleState>testLifecycleStatus</lifecycleState>
        <policySituation>somepolicysituation1</policySituation>
        <policySituation>somepolicysituation2</policySituation>

        <trigger id="2">
            <handlerUri>http://triggerUri</handlerUri>
            <timestamp>2013-05-07T10:38:21.350+02:00</timestamp>
        </trigger>

        <metadata>
            <creatorRef oid="cccccccc-cccc-cccc-cccc-000022222222" type="c:UserType"/>
            <createApproverRef oid="cccccccc-cccc-cccc-cccc-000022222222" type="c:UserType"/>
            <createApproverRef oid="cccccccc-cccc-cccc-cccc-000022222223" type="c:UserType"/>
            <createChannel>http://createChannelUri</createChannel>
            <modifierRef oid="mmmccccc-cccc-cccc-cccc-000022222222" type="c:UserType"/>
            <modifyApproverRef oid="mmmccccc-cccc-cccc-cccc-000022222222" type="c:UserType"/>
            <modifyApproverRef oid="mmmccccc-cccc-cccc-cccc-000022222223" type="c:UserType"/>
            <modifyChannel>http://modifyChannelUri</modifyChannel>
        </metadata>

        <roleMembershipRef oid="r123" type="c:RoleType"/>

        <assignment id="1">
            <description>Some assignment description</description>
            <extension>
                <my:dead xsi:type="xsd:int">123</my:dead>
                <p:skipAutogeneration xsi:type="xsd:boolean">true</p:skipAutogeneration>
            </extension>
            <metadata>
                <creatorRef oid="dddccccc-cccc-cccc-cccc-000022222222" type="c:UserType"/>
                <createApproverRef oid="dddccccc-cccc-cccc-cccc-000022222222" type="c:UserType"/>
                <createApproverRef oid="dddccccc-cccc-cccc-cccc-000022222223" type="c:UserType"/>
                <createChannel>http://createChannelUri</createChannel>
                <modifierRef oid="eeeccccc-cccc-cccc-cccc-000022222222" type="c:UserType"/>
                <modifyApproverRef oid="eeeccccc-cccc-cccc-cccc-000022222222" type="c:UserType"/>
                <modifyApproverRef oid="eeeccccc-cccc-cccc-cccc-000022222223" type="c:UserType"/>
                <modifyChannel>http://modifyChannelUri</modifyChannel>
            </metadata>
            <lifecycleState>lifecycleState1232</lifecycleState>
            <policySituation>situation1</policySituation>
            <policySituation>situation2</policySituation>
            <construction>
                <description>Account construction.</description>
                <resourceRef oid="c0c010c0-d34d-b33f-f00d-333bbbbbbbb2" type="c:ResourceType"/>
                <intent>default</intent>
            </construction>
            <orgRef oid="o123456" type="c:OrgType" />
            <order>10</order>
        </assignment>
        
        <assignment id="2">
        	<targetRef oid="r123" type="RoleType" />
        </assignment>
        
         <assignment id="3">
        	<targetRef oid="00000000-8888-6666-0000-100000000085" type="OrgType" />
        </assignment>

        <fullName>
            <t:orig>Test UserX00002</t:orig>
            <t:norm>test userx00002</t:norm>
        </fullName>
        <givenName>
            <t:orig>TestX</t:orig>
            <t:norm>testx</t:norm>
        </givenName>
        <familyName>
            <t:orig>UserX00002</t:orig>
            <t:norm>userx00002</t:norm>
        </familyName>
        <emailAddress>testuserX00002@example.com</emailAddress>
        <locality>
            <t:orig>AreaX 00002</t:orig>
            <t:norm>areax 00002</t:norm>
        </locality>
        <jpegPhoto>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</jpegPhoto>
        <employeeNumber>en1234</employeeNumber>
        <credentials>
            <password>
             <c:value> -->
            <t:encryptedData xmlns:t="http://prism.evolveum.com/xml/ns/public/types-3">
               <t:encryptionMethod>
                  <t:algorithm>http://www.w3.org/2001/04/xmlenc#aes128-cbc</t:algorithm>
               </t:encryptionMethod>
               <t:keyInfo>
                  <t:keyName>4HXeUejV93Vd3JuIZz7sbs5bVko=</t:keyName>
               </t:keyInfo>
               <t:cipherData>
                  <t:cipherValue>Q27VymuHR348Vb9Ln5p06RT667FqZPSijEMxVDWw7D8=</t:cipherValue>
               </t:cipherData>
            </t:encryptedData>
         </c:value>
<!--                 <value> -->
<!--                     <enc:EncryptedData Type="http://www.w3.org/2001/04/xmlenc#Element" -->
<!--                                        xmlns:enc="http://www.w3.org/2001/04/xmlenc#"> -->
<!--                         <enc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes256-cbc"/> -->
<!--                         <ds:KeyInfo> -->
<!--                             <ds:KeyName>HF6JRsNMeJt6alihT44CXKgpe0c=</ds:KeyName> -->
<!--                         </ds:KeyInfo> -->
<!--                         <enc:CipherData> -->
<!--                             <enc:CipherValue>eL1PVNFxclMxDulnqX6Ip/mxLbr+vyxCXu9auL3EKWoNawdzlqJDwF7WwuxtRZDS -->
<!--                             </enc:CipherValue> -->
<!--                         </enc:CipherData> -->
<!--                     </enc:EncryptedData> -->
<!--                 </value> -->
            </password>
        </credentials>
        <activation>
            <administrativeStatus>archived</administrativeStatus>
            <effectiveStatus>disabled</effectiveStatus>
            <disableReason>some reason</disableReason>
        </activation>
    </user>

    <object xsi:type="UserType" version="1" xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
        <name>atestuserX00003</name>
		<description>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut dapibus, felis tincidunt pellentesque
			ullamcorper, nisi orci accumsan turpis, quis lobortis quam libero at lectus. Quisque auctor, urna ut elementum
			volutpat, sapien neque imperdiet elit, luctus viverra arcu nisl sed nibh. Vestibulum justo lorem, rhoncus a faucibus
			ac, pulvinar a justo. Nam tincidunt suscipit congue. Proin auctor dapibus lacus sit amet ultricies. Duis feugiat
			viverra nibh, nec ultricies libero ultrices eleifend. Nullam sed quam consectetur, rutrum arcu eu, imperdiet nibh.
			Pellentesque a molestie tortor, vitae elementum nulla. Morbi lacus ex, commodo quis aliquam eget, condimentum sed
			lorem. Suspendisse maximus est euismod, porta est a, vulputate magna. Morbi blandit accumsan mattis. Cras commodo
			cursus ante. Phasellus in nulla eget odio tristique dapibus. Pellentesque at orci at nisl blandit efficitur id ut leo.
			Sed laoreet iaculis turpis quis scelerisque.
		</description>

		<linkRef oid="1234" />
        <linkRef oid="11223344"/>
        <roleMembershipRef oid="r123" type="c:RoleType"/>
        <roleMembershipRef oid="r456" type="c:RoleType"/>
        <delegatedRef oid="r789" type="c:RoleType"/>

        <fullName>
            <t:orig>Test UserX00003</t:orig>
            <t:norm>test userx00003</t:norm>
        </fullName>
        <givenName>TestX</givenName>
        <familyName>UserX00003</familyName>
        <emailAddress>testuserX00003@example.com</emailAddress>
        <locality>AreaX 00003</locality>
        <credentials>
            <password>
             <c:value> -->
            <t:encryptedData xmlns:t="http://prism.evolveum.com/xml/ns/public/types-3">
               <t:encryptionMethod>
                  <t:algorithm>http://www.w3.org/2001/04/xmlenc#aes128-cbc</t:algorithm>
               </t:encryptionMethod>
               <t:keyInfo>
                  <t:keyName>4HXeUejV93Vd3JuIZz7sbs5bVko=</t:keyName>
               </t:keyInfo>
               <t:cipherData>
                  <t:cipherValue>Q27VymuHR348Vb9Ln5p06RT667FqZPSijEMxVDWw7D8=</t:cipherValue>
               </t:cipherData>
            </t:encryptedData>
         </c:value>
<!--                 <value> -->
<!--                     <enc:EncryptedData Type="http://www.w3.org/2001/04/xmlenc#Element" -->
<!--                                        xmlns:enc="http://www.w3.org/2001/04/xmlenc#"> -->
<!--                         <enc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes256-cbc"/> -->
<!--                         <ds:KeyInfo> -->
<!--                             <ds:KeyName>HF6JRsNMeJt6alihT44CXKgpe0c=</ds:KeyName> -->
<!--                         </ds:KeyInfo> -->
<!--                         <enc:CipherData> -->
<!--                             <enc:CipherValue>eL1PVNFxclMxDulnqX6Ip/mxLbr+vyxCXu9auL3EKWoNawdzlqJDwF7WwuxtRZDS -->
<!--                             </enc:CipherValue> -->
<!--                         </enc:CipherData> -->
<!--                     </enc:EncryptedData> -->
<!--                 </value> -->
            </password>
        </credentials>
        <activation>
            <administrativeStatus>archived</administrativeStatus>
            <effectiveStatus>disabled</effectiveStatus>
            <disableReason>asdfreason</disableReason>
        </activation>
        <iteration>123</iteration>
        <iterationToken>stringtoken</iterationToken>
    </object>

    <c:resource>
        <c:name>Localhost OpenDJ</c:name>
        <description>LDAP resource using an Identity Connector Framework LDAP connector.</description>
        <connectorRef type="ConnectorType" oid="123">
            <description>Reference to the ICF LDAP connector.</description>
            <filter>
                <q:equal>
                    <q:path>connectorType</q:path>
                    <q:value>org.identityconnectors.ldap.LdapConnector</q:value>
                </q:equal>
            </filter>
        </connectorRef>
        <operationalState>
            <lastAvailabilityStatus>up</lastAvailabilityStatus>
        </operationalState>

        <connectorConfiguration
                xmlns:icfcldap="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/bundle/org.forgerock.openicf.connectors.ldap.ldap/org.identityconnectors.ldap.LdapConnector"
                xmlns:icfc="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/connector-schema-3">

            <icfc:configurationProperties>
                <icfcldap:port>1389</icfcldap:port>
                <icfcldap:host>localhost</icfcldap:host>
                <icfcldap:baseContexts>dc=example,dc=com</icfcldap:baseContexts>
                <icfcldap:principal>uid=idm,ou=Administrators,dc=example,dc=com</icfcldap:principal>
                <icfcldap:credentials>
                    <clearValue>secret</clearValue>
                </icfcldap:credentials>
                <icfcldap:modifiersNamesToFilterOut>uid=idm,ou=Administrators,dc=example,dc=com
                </icfcldap:modifiersNamesToFilterOut>
                <icfcldap:vlvSortAttribute>uid</icfcldap:vlvSortAttribute>
                <icfcldap:usePagedResultControl>true</icfcldap:usePagedResultControl>
                <icfcldap:accountOperationalAttributes>ds-pwp-account-disabled</icfcldap:accountOperationalAttributes>
            </icfc:configurationProperties>
            <icfc:connectorPoolConfiguration>
                <icfc:minEvictableIdleTimeMillis>120000</icfc:minEvictableIdleTimeMillis>
                <icfc:minIdle>1</icfc:minIdle>
                <icfc:maxIdle>10</icfc:maxIdle>
                <icfc:maxObjects>10</icfc:maxObjects>
                <icfc:maxWait>150000</icfc:maxWait>
            </icfc:connectorPoolConfiguration>
            <icfc:producerBufferSize>100</icfc:producerBufferSize>
            <icfc:timeouts>
                <icfc:create>-1</icfc:create>
                <icfc:get>-1</icfc:get>
                <icfc:update>-1</icfc:update>
                <icfc:delete>-1</icfc:delete>
                <icfc:test>-1</icfc:test>
                <icfc:scriptOnConnector>-1</icfc:scriptOnConnector>
                <icfc:scriptOnResource>-1</icfc:scriptOnResource>
                <icfc:authentication>-1</icfc:authentication>
                <icfc:search>-1</icfc:search>
                <icfc:validate>-1</icfc:validate>
                <icfc:sync>-1</icfc:sync>
                <icfc:schema>-1</icfc:schema>
            </icfc:timeouts>
        </connectorConfiguration>
        <namespace>http://midpoint.evolveum.com/xml/ns/public/resource/instance/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2</namespace>
        <schema>
            <definition>
                <xsd:schema elementFormDefault="qualified"
					targetNamespace="http://midpoint.evolveum.com/xml/ns/public/resource/instance/ef2bc95b-76e0-59e2-86d6-3d4f02d3ffff"
					xmlns:icfs="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/resource-schema-3"
					xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
					xmlns:a="http://prism.evolveum.com/xml/ns/public/annotation-3"
					xmlns:ra="http://midpoint.evolveum.com/xml/ns/public/resource/annotation-3"
					xmlns:xsd="http://www.w3.org/2001/XMLSchema">
					<xsd:import namespace="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/resource-schema-3" />

					<xsd:import namespace="http://prism.evolveum.com/xml/ns/public/annotation-3" />
					<xsd:complexType name="GroupObjectClass">
						<xsd:annotation>
							<xsd:appinfo>
								<ra:resourceObject/>
			                     <ra:identifier>icfs:uid</ra:identifier>
			                     <ra:displayNameAttribute>icfs:name</ra:displayNameAttribute>
			                     <ra:namingAttribute>icfs:name</ra:namingAttribute>
			                     <ra:nativeObjectClass>__GROUP__</ra:nativeObjectClass>
							</xsd:appinfo>
						</xsd:annotation>
						<xsd:sequence>
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="seeAlso" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="owner" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="o" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="description" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="objectClass" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="uniqueMember" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" name="cn" type="xsd:string" />
							<xsd:element ref="icfs:name" />
							<xsd:element ref="icfs:uid" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="businessCategory" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="ou" type="xsd:string" />
						</xsd:sequence>
					</xsd:complexType>
					<xsd:complexType name="AccountObjectClass">
						<xsd:annotation>
							<xsd:appinfo>
								 <ra:resourceObject/>
			                     <ra:identifier>icfs:uid</ra:identifier>
			                     <ra:displayNameAttribute>icfs:name</ra:displayNameAttribute>
			                     <ra:namingAttribute>icfs:name</ra:namingAttribute>
			                     <ra:nativeObjectClass>__ACCOUNT__</ra:nativeObjectClass>
			                     <ra:account/>
			                     <ra:default/>
							</xsd:appinfo>
						</xsd:annotation>
						<xsd:sequence>
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="internationaliSDNNumber" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="x121Address" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="employeeType" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="pager" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="audio" type="xsd:base64Binary" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="departmentNumber" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="x500UniqueIdentifier" type="xsd:base64Binary" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="postalAddress" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="objectClass" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="givenName" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="mail" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="photo" type="xsd:base64Binary" />
							<xsd:element minOccurs="0" name="displayName" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" name="cn" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="userPassword" type="xsd:base64Binary" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="physicalDeliveryOfficeName" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="manager" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="homePhone" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="description" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="postOfficeBox" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="homePostalAddress" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="roomNumber" type="xsd:string" />
							<xsd:element minOccurs="0" name="employeeNumber" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="facsimileTelephoneNumber" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="userSMIMECertificate" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="l" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="userCertificate" type="xsd:base64Binary" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="teletexTerminalIdentifier" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="jpegPhoto" type="xsd:base64Binary" />
							<xsd:element ref="icfs:name" />
							<xsd:element minOccurs="0" name="preferredDeliveryMethod" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="userPKCS12" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="postalCode" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="labeledURI" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="telexNumber" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="carLicense" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="street" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="registeredAddress" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" name="sn" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="seeAlso" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="secretary" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="mobile" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="uid" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="initials" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="businessCategory" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="telephoneNumber" type="xsd:string" />
							<xsd:element ref="icfs:uid" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="o" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="title" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="destinationIndicator" type="xsd:string" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="st" type="xsd:string" />
							<xsd:element minOccurs="0" ref="icfs:password" />
							<xsd:element maxOccurs="unbounded" minOccurs="0" name="ou" type="xsd:string" />
							<xsd:element minOccurs="0" name="preferredLanguage" type="xsd:string" />
						</xsd:sequence>
					</xsd:complexType>
				</xsd:schema>
            </definition>
        </schema>
		<schemaHandling>
			<objectType>
				<intent>default</intent>
				<displayName>Default Account</displayName>
				<default>true</default>
				<objectClass>ri:AccountObjectClass</objectClass>
				<attribute>
					<ref>icfs:name</ref>
					<displayName>Distinguished Name</displayName>
					<outbound>
						<strength>weak</strength>
						<source>
							<path>$user/name</path>
						</source>
						<expression>
							<script>
								<code>
									'uid=' + name + iterationToken + ',ou=people,dc=example,dc=com'
								</code>
							</script>
						</expression>
					</outbound>
				</attribute>
				<attribute>
					<ref>icfs:uid</ref>
					<displayName>Entry UUID</displayName>
				</attribute>
				<attribute>
					<ref>ri:cn</ref>
					<displayName>Common Name</displayName>
					<outbound>
						<source>
							<path>$user/fullName</path>
						</source>
					</outbound>
					<inbound>
						<target>
							<path>$user/fullName</path>
						</target>
					</inbound>
				</attribute>
				<attribute>
					<ref>ri:sn</ref>
					<displayName>Surname</displayName>
					<outbound>
						<source>
							<path>familyName</path>
						</source>
					</outbound>
					<inbound>
						<target>
							<path>familyName</path>
						</target>
					</inbound>
				</attribute>
				<attribute>
					<ref>ri:givenName</ref>
					<displayName>Given Name</displayName>
					<outbound>
						<source>
							<path>$c:user/c:givenName</path>
						</source>
					</outbound>
					<inbound>
						<target>
							<path>$c:user/c:givenName</path>
						</target>
					</inbound>
				</attribute>
				<attribute>
					<ref>ri:uid</ref>
					<displayName>Login Name</displayName>
					<outbound>
						<source>
							<description>Source may have description</description>
							<path>$user/name</path>
						</source>
					</outbound>
					<inbound>
						<target>
							<description>Targets may have description</description>
							<path>$c:user/c:name</path>
		                   </target>
					</inbound>
				</attribute>
				<attribute>
					<ref>ri:description</ref>
					<outbound>
						<strength>weak</strength>
						<expression>
							<description>Expression that assigns a fixed value</description>
							<value>Created by IDM</value>
						</expression>
					</outbound>
					<inbound>
						<target>
							<path>
								declare namespace my="http://whatever.com/my";
								$c:user/c:extension/my:description
							</path>
		                   </target>
					</inbound>
				</attribute>
				<attribute>
					<ref>ri:l</ref>
					<outbound>
						<expression>
							<variable xmlns:my="http://whatever.com/my">
								<name>my:defaultLocation</name>
								<value xsi:type="xsd:string">middle of nowhere</value>
							</variable>
							<script>
								<description>XPath expression that is using a variable declared above</description>
								<language>http://www.w3.org/TR/xpath/</language>
								<returnType>scalar</returnType>
								<code xmlns:my="http://whatever.com/my">
										$my:defaultLocation
								</code>
							</script>
						</expression>
					</outbound>
				</attribute>
                <credentials>
                   <password>
                       <outbound>
                        <expression>
                            <asIs/>
                           </expression>
                       </outbound>
                       <inbound>
                        <strength>weak</strength>
                           <expression>
                               <generate/>
                           </expression>
                       </inbound>
                   </password>
                </credentials>
                <activation>
                   <administrativeStatus>
                       <outbound/>
                       <inbound>
                        <strength>weak</strength>
                           <expression>
                               <asIs/>
                           </expression>
                       </inbound>
                   </administrativeStatus>
                </activation>
				<iteration>
					<maxIterations>5</maxIterations>
				</iteration>
				<protected>
		               <icfs:name>uid=idm,ou=Administrators,dc=example,dc=com</icfs:name>
		           </protected>
			</objectType>
		</schemaHandling>
        <capabilities xmlns:cap="http://midpoint.evolveum.com/xml/ns/public/resource/capabilities-3">
            <native>
                <cap:delete/>
            </native>
            <configured>
                <cap:activation>
                    <cap:status>
                        <cap:attribute>ri:ds-pwp-account-disabled</cap:attribute>
                        <cap:enableValue/>
                        <cap:disableValue>true</cap:disableValue>
                    </cap:status>
                </cap:activation>
            </configured>
        </capabilities>
        <synchronization>
        <objectSynchronization>
            <!--
                The synchronization for this resource is enabled.
                It means that the synchronization will react to changes detected by
                the system (live sync task, discovery or reconciliation) -->
            <enabled>true</enabled>
            <correlation>
                <q:description>
                    Correlation expression is a search query.
                    Following search query will look for users that have "name"
                    equal to the "uid" attribute of the account. Simply speaking,
                    it will look for match in usernames in the IDM and the resource.
                    The correlation rule always looks for users, so it will not match
                    any other object type.
                </q:description>
                <q:equal>
                    <q:path>name</q:path>
                    <c:expression>
                        <c:script>
                            <c:code>
                                $c:account/c:attributes/ri:uid
                            </c:code>
                        </c:script>
                    </c:expression>
                </q:equal>
            </correlation>
            <reaction>
                <situation>linked</situation>
                <action ref="http://midpoint.evolveum.com/xml/ns/public/model/action-3#modifyUser"/>
            </reaction>
            <reaction>
                <situation>unmatched</situation>
                <action ref="http://midpoint.evolveum.com/xml/ns/public/model/action-3#addUser">
                    <userTemplateRef oid="c0c010c0-d34d-b33f-f00d-777222222222"/>
                </action>
            </reaction>
</objectSynchronization>
        </synchronization>
        <projection>
            <assignmentPolicyEnforcement>positive</assignmentPolicyEnforcement>
        </projection>
    </c:resource>

    <objectTemplate>
        <name>Default User Template</name>
        <description>User Template Object.
        </description>
        <includeRef oid="1234" type="c:ObjectTemplateType"/>
        <includeRef oid="12345" type="c:ObjectTemplateType"/>
        <mapping>
            <description>Property construction.</description>
            <strength>weak</strength>
            <source>
            	<path>$user/givenName</path>
            </source>
            <source>
            	<path>$user/familyName</path>
            </source>
            <expression>
                <script>
                    <code>giveName + ' ' + familyName</code>
                </script>
            </expression>
            <target>
            	<path>fullName</path>
            </target>
        </mapping>
    </objectTemplate>

    <objectTemplate>
        <name>Default User Template2</name>
        <description>Alternative User Template Object.</description>
        <includeRef oid="12346" type="c:ObjectTemplateType"/>
		<mapping>
            <description>Property construction.</description>
            <strength>weak</strength>
            <source>
            	<path>$user/givenName</path>
            </source>
            <source>
            	<path>$user/familyName</path>
            </source>
            <expression>
                <script>
                    <code>giveName + ' ' + familyName</code>
                </script>
            </expression>
            <target>
            	<path>fullName</path>
            </target>
        </mapping>
    </objectTemplate>

    <genericObject oid="9999">
        <name>My Sample Config Object</name>
        <description>Sample custom configuration object.</description>
        <extension xmlns:p="http://example.com/p">
            <p:stringType>some text in here</p:stringType>
            <p:intType>1234</p:intType>
            <p:doubleType>456.789</p:doubleType>
            <p:longType>567890</p:longType>
            <p:dateType>2002-05-30T09:10:11.000+02:00</p:dateType>
            <p:decimalType>1234</p:decimalType>
            <!-- custom run-time properties are not supported -->
<!--             <p:locations> -->
<!--                 <p:location key="home">Here</p:location> -->
<!--                 <p:location key="work">There</p:location> -->
<!--                 <p:location key="somewhere">There there over the corner</p:location> -->
<!--             </p:locations> -->
            <p:referenceType oid="12345678-1234-1234-1234-123456789012" type="c:UserType" relation="c:ObjectType">
                <description>this is some description or something like that, which should be also stored in DB</description>
            </p:referenceType>
            <p:polyType>
                <t:orig>UserX00002</t:orig>
                <t:norm>userx00002</t:norm>
            </p:polyType>
            <p:skipAutogeneration>true</p:skipAutogeneration>
            <p:multivalued>Bratislava</p:multivalued>
            <p:multivalued>Levice</p:multivalued>
            <p:multivalued>Kalna</p:multivalued>
        </extension>
        <objectType>http://myself.me/schemas/objects#SampleConfigType</objectType>
    </genericObject>

    <task oid="555">
        <name>Synchronization: Embedded Test OpenDJ</name>
        <description>Definition of a live sychnronization task. It will poll changelog and pull in changes</description>
        <taskIdentifier>91919191-76e0-59e2-86d6-3d4f02d3ffff</taskIdentifier>
        <ownerRef oid="00000000-0000-0000-0000-000000000002"/>
        <executionStatus>runnable</executionStatus>
        <handlerUri>http://midpoint.evolveum.com/xml/ns/public/model/synchronization/task/live-sync/handler-3</handlerUri>
        <objectRef oid="ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2" type="c:ResourceType"/>
        <recurrence>recurring</recurrence>
        <binding>tight</binding>
        <schedule>
            <interval>5</interval>
        </schedule>
    </task>

    <object xsi:type="ShadowType" oid="11223344" xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
            xmlns:cap="http://midpoint.evolveum.com/xml/ns/public/resource/capabilities-3"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
        <name>8daaeeae-f0c7-41c9-b258-2a3351aa8876</name>
        <resourceRef oid="ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2" type="ResourceType"/>
        <objectClass xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instance/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">ri:AccountObjectClass</objectClass>
        <kind>account</kind>
        <attributes>
            <icfs:uid xsi:type="xsd:string" xmlns:icfs="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/resource-schema-3" xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3" xmlns:xsd="http://www.w3.org/2001/XMLSchema">8daaeeae-f0c7-41c9-b258-2a3351aa8876</icfs:uid>
        </attributes>
        <intent>aaa</intent>
        <activation>
            <administrativeStatus>archived</administrativeStatus>
            <effectiveStatus>disabled</effectiveStatus>
        </activation>
        <result xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
                     xmlns:cap="http://midpoint.evolveum.com/xml/ns/public/resource/capabilities-3">
            <operation>com.evolveum.midpoint.xml.ns._public.model.model_1_wsdl.ModelPortType.importFromResource
            </operation>
            <status>in_progress</status>
            <token>1000000000000000610</token>
            <message>Task running in background</message>
            <partialResults>
                <operation>com.evolveum.midpoint.model.api.ModelService.importAccountsFromResource</operation>
                <status>in_progress</status>
                <params>
                    <entry key="task">
                        <unknownJavaObject>
                            <class>com.evolveum.midpoint.task.impl.TaskImpl</class>
                            <toString>Task(id:1327683120569-0-1, name:Import from resource Embedded Test OpenDJ,
                                oid:193371b3-a260-41f5-890b-6c2021907ee9)
                            </toString>
                        </unknownJavaObject>
                    </entry>
<!--                     <entry key="resourceOid"> -->
<!--                         <paramValue xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3" -->
<!--                                  xmlns:xsd="http://www.w3.org/2001/XMLSchema" -->
<!--                                  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" -->
<!--                                  xsi:type="xsd:string">ef2bc95b-76e0-59e2-86d6-3d4f02d3ffff -->
<!--                         </paramValue> -->
<!--                     </entry> -->
<!--                     <entry key="objectClass"> -->
<!--                         <paramValue xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3" -->
<!--                                  xmlns:qn644="http://midpoint.evolveum.com/xml/ns/public/resource/instance/ef2bc95b-76e0-59e2-86d6-3d4f02d3ffff" -->
<!--                                  xmlns:xsd="http://www.w3.org/2001/XMLSchema" -->
<!--                                  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" -->
<!--                                  xsi:type="xsd:QName">qn644:AccountObjectClass -->
<!--                         </paramValue> -->
<!--                     </entry> -->
                </params>
                <token>1000000000000000611</token>
                <message>Task running in background</message>
                <partialResults>
                    <operation>com.evolveum.midpoint.model.api.ModelService.getObject</operation>
                    <status>success</status>
                    <params>
<!--                         <entry key="resolve"> -->
<!--                             <paramValue xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" -->
<!--                                    xsi:type="PropertyReferenceListType"/> -->
<!--                         </entry> -->
<!--                         <entry key="oid"> -->
<!--                             <paramValue xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3" -->
<!--                                      xmlns:xsd="http://www.w3.org/2001/XMLSchema" -->
<!--                                      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" -->
<!--                                      xsi:type="xsd:string">ef2bc95b-76e0-59e2-86d6-3d4f02d3ffff -->
<!--                             </paramValue> -->
<!--                         </entry> -->
                        <entry key="class">
                            <unknownJavaObject>
                                <class>java.lang.Class</class>
                                <toString>class com.evolveum.midpoint.xml.ns._public.common.common_1.ResourceType
                                </toString>
                            </unknownJavaObject>
                        </entry>
                    </params>
                    <token>1000000000000000612</token>
                </partialResults>
            </partialResults>
        </result>
        <fullSynchronizationTimestamp>2002-05-30T09:10:11.000+02:00</fullSynchronizationTimestamp>
        <synchronizationSituation>linked</synchronizationSituation>
        <synchronizationSituationDescription>
            <situation>linked</situation>
            <channel>syncChannel</channel>
            <full>true</full>
        </synchronizationSituationDescription>
        <synchronizationSituationDescription>
            <situation>unlinked</situation>
            <channel>someChannel</channel>
            <full>false</full>
        </synchronizationSituationDescription>
    </object>

    <object xsi:type="ShadowType" oid="11223355" xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3" xmlns:cap="http://midpoint.evolveum.com/xml/ns/public/resource/capabilities-3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
        <name>8daaeeae-f0c7-41c9-b258-2a3351aa8876</name>
        <resourceRef oid="ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2" type="ResourceType"/>
        <objectClass xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instance/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">ri:AccountObjectClass</objectClass>
        <kind>account</kind>
        <attributes>
            <icfs:uid xsi:type="xsd:string" xmlns:icfs="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/resource-schema-3" xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3" xmlns:xsd="http://www.w3.org/2001/XMLSchema">8daaeeae-f0c7-41c9-b258-2a3351aa8876</icfs:uid>
        </attributes>
        <intent>aaa</intent>
        <activation>
            <administrativeStatus>archived</administrativeStatus>
            <effectiveStatus>disabled</effectiveStatus>
        </activation>
		<pendingOperation id="1">
			<asynchronousOperationReference>123456</asynchronousOperationReference>
		</pendingOperation>
		<pendingOperation id="2">
			<asynchronousOperationReference>789012</asynchronousOperationReference>
		</pendingOperation>
    </object>

    <object xsi:type="ConnectorType" oid="1234" xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3" xmlns:cap="http://midpoint.evolveum.com/xml/ns/public/resource/capabilities-3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
        <name>ICF com.evolveum.polygon.csvfile.CSVFileConnector</name>
        <framework>http://midpoint.evolveum.com/xml/ns/public/connector/icf-1</framework>
        <connectorType>com.evolveum.polygon.csvfile.CSVFileConnector</connectorType>
        <connectorVersion>1.1.0.0-e2</connectorVersion>
        <connectorBundle>openicf-csvfile-connector</connectorBundle>
        <namespace>http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/bundle/openicf-csvfile-connector/com.evolveum.polygon.csvfile.CSVFileConnector</namespace>
        <schema>
        <definition>
            <xsd:schema elementFormDefault="qualified" targetNamespace="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/bundle/openicf-csvfile-connector/com.evolveum.polygon.csvfile.CSVFileConnector"
            xmlns:icfc="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/connector-schema-3"
            xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
            xmlns:a="http://prism.evolveum.com/xml/ns/public/annotation-3"
            xmlns:ra="http://midpoint.evolveum.com/xml/ns/public/resource/annotation-3"
            xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                        xmlns:gen538="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/bundle/openicf-csvfile-connector/com.evolveum.polygon.csvfile.CSVFileConnector">
                <xsd:import namespace="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/connector-schema-3"/>

                <xsd:import namespace="http://prism.evolveum.com/xml/ns/public/annotation-3"/>
                <xsd:complexType name="ConfigurationType">
                    <xsd:annotation>
                        <xsd:appinfo>
                            <a:propertyContainer/>
                        </xsd:appinfo>
                    </xsd:annotation>
                    <xsd:sequence>
                        <xsd:element minOccurs="0" ref="icfc:producerBufferSize"/>
                        <xsd:element minOccurs="0" ref="icfc:connectorPoolConfiguration"/>
                        <xsd:element minOccurs="0" ref="icfc:timeouts"/>
                        <xsd:element name="configurationProperties" type="gen538:ConfigurationPropertiesType"/>
                    </xsd:sequence>
                </xsd:complexType>
                <xsd:element name="configuration" type="gen538:ConfigurationType"/>
                <xsd:complexType name="ConfigurationPropertiesType">
                    <xsd:annotation>
                        <xsd:appinfo>
                            <a:propertyContainer/>
                        </xsd:appinfo>
                    </xsd:annotation>
                    <xsd:sequence>
                        <xsd:element name="uniqueAttribute" type="xsd:string">
                            <xsd:annotation>
                                <xsd:appinfo>
                                    <a:displayName>Unique attribute name</a:displayName>
                                    <a:help>Name of unique attribute in current CSV file.</a:help>
                                </xsd:appinfo>
                            </xsd:annotation>
                        </xsd:element>
                        <xsd:element minOccurs="0" name="usingMultivalue" type="xsd:boolean">
                            <xsd:annotation>
                                <xsd:appinfo>
                                    <a:displayName>Parse multivalue attributes</a:displayName>
                                    <a:help>Flag if connector does have to parse multivalue attributes with char defined in Multivalue delimiter</a:help>
                                </xsd:appinfo>
                            </xsd:annotation>
                        </xsd:element>
                        <xsd:element name="nameAttribute" type="xsd:string">
                            <xsd:annotation>
                                <xsd:appinfo>
                                    <a:displayName>UI_FLAT_NAME_ATTRIBUTE</a:displayName>
                                    <a:help>UI_FLAT_NAME_ATTRIBUTE_HELP</a:help>
                                </xsd:appinfo>
                            </xsd:annotation>
                        </xsd:element>
                        <xsd:element minOccurs="0" name="encoding" type="xsd:string">
                            <xsd:annotation>
                                <xsd:appinfo>
                                    <a:displayName>Encoding</a:displayName>
                                    <a:help>CSV file encoding.</a:help>
                                </xsd:appinfo>
                            </xsd:annotation>
                        </xsd:element>
                        <xsd:element minOccurs="0" name="multivalueDelimiter" type="xsd:string">
                            <xsd:annotation>
                                <xsd:appinfo>
                                    <a:displayName>Multivalue delimiter</a:displayName>
                                    <a:help>Delimiter for multivalue attributes in CSV record (escaped as regexp, if needed).</a:help>
                                </xsd:appinfo>
                            </xsd:annotation>
                        </xsd:element>
                        <xsd:element minOccurs="0" name="passwordAttribute" type="xsd:string">
                            <xsd:annotation>
                                <xsd:appinfo>
                                    <a:displayName>User password attribute name</a:displayName>
                                    <a:help>User password attribute name is not required. Its used only in authenticate operation.</a:help>
                                </xsd:appinfo>
                            </xsd:annotation>
                        </xsd:element>
                        <xsd:element minOccurs="0" name="valueQualifier" type="xsd:string">
                            <xsd:annotation>
                                <xsd:appinfo>
                                    <a:displayName>Value qualifier</a:displayName>
                                    <a:help>Attribute value qualifier in CSV record (escaped as regexp, if needed).</a:help>
                                </xsd:appinfo>
                            </xsd:annotation>
                        </xsd:element>
                        <xsd:element name="filePath" type="xsd:string">
                            <xsd:annotation>
                                <xsd:appinfo>
                                    <a:displayName>File path</a:displayName>
                                    <a:help>Path to CSV file with records.</a:help>
                                </xsd:appinfo>
                            </xsd:annotation>
                        </xsd:element>
                        <xsd:element minOccurs="0" name="fieldDelimiter" type="xsd:string">
                            <xsd:annotation>
                                <xsd:appinfo>
                                    <a:displayName>Field delimiter</a:displayName>
                                    <a:help>Delimiter character between fields in one CSV record (escaped as regexp, if needed).</a:help>
                                </xsd:appinfo>
                            </xsd:annotation>
                        </xsd:element>
                    </xsd:sequence>
                </xsd:complexType>
                <xsd:element name="configurationProperties" type="gen538:ConfigurationPropertiesType"/>
            </xsd:schema>
        </definition>
        </schema>
    </object>

     <object xsi:type="SystemConfigurationType"
             xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
             xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
             xmlns:cap="http://midpoint.evolveum.com/xml/ns/public/resource/capabilities-3"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
         <name>SystemConfiguration123</name>
         <logging>
             <subSystemLogger>
                 <level>INFO</level>
                 <component>MODEL</component>
             </subSystemLogger>
             <subSystemLogger>
                 <level>INFO</level>
                 <component>PROVISIONING</component>
             </subSystemLogger>
             <subSystemLogger>
                 <level>INFO</level>
                 <component>REPOSITORY</component>
             </subSystemLogger>
             <subSystemLogger>
                 <level>INFO</level>
                 <component>WEB</component>
             </subSystemLogger>
             <subSystemLogger>
                 <level>INFO</level>
                 <component>TASKMANAGER</component>
             </subSystemLogger>
             <subSystemLogger>
                 <level>INFO</level>
                 <component>RESOURCEOBJECTCHANGELISTENER</component>
             </subSystemLogger>
             <subSystemLogger>
                 <level>INFO</level>
                 <component>ALL</component>
             </subSystemLogger>
             <classLogger>
                 <level>OFF</level>
                 <package>PROFILING</package>
             </classLogger>
             <appender xsi:type="FileAppenderConfigurationType" name="IDM_LOG">
                 <pattern>%date [%X{subsystem}] [%thread] %level \(%logger\): %msg%n</pattern>
                 <fileName>${catalina.base}/logs/idm.log</fileName>
                 <filePattern>${catalina.base}/logs/idm-%d{yyyy-MM-dd}.%i.log</filePattern>
                 <maxHistory>10</maxHistory>
                 <maxFileSize>100MB</maxFileSize>
                 <append>true</append>
             </appender>
             <rootLoggerAppender>IDM_LOG</rootLoggerAppender>
             <rootLoggerLevel>INFO</rootLoggerLevel>
             <auditing>
                 <enabled>false</enabled>
                 <details>false</details>
             </auditing>
         </logging>
         <objectTemplate>
             <type>c:UserType</type>
             <objectTemplateRef oid="1234" type="c:ObjectTemplateType"/>
         </objectTemplate>
         <objectTemplate>
             <type>c:ResourceType</type>
             <objectTemplateRef oid="5678" type="c:ObjectTemplateType"/>
         </objectTemplate>
         <cleanupPolicy>
             <auditRecords>
                 <maxAge>P5Y2M10D</maxAge>
             </auditRecords>
             <closedTasks>
                 <maxAge>P4Y1M9D</maxAge>
             </closedTasks>
         </cleanupPolicy>
         <profilingConfiguration>
             <enabled>true</enabled>
         </profilingConfiguration>
     </object>

    <object xsi:type="ConnectorHostType" xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"  xmlns:cap="http://midpoint.evolveum.com/xml/ns/public/resource/capabilities-3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
        <name>ICF Connector server on admachine:8759</name>
        <hostname>admachine.example.com</hostname>
        <port>8759</port>
<!--         <sharedSecret>secret</sharedSecret> -->
    </object>

    <role xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
          xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
          xmlns:q="http://prism.evolveum.com/xml/ns/public/query-3">
        <name>Judge</name>
        <displayName>The honest one</displayName>
        <riskLevel>critical</riskLevel>
        <identifier>123</identifier>
        <linkRef oid="11223355"/>
        <assignment id="1">
            <construction>
                <resourceRef oid="10000000-0000-0000-0000-000000000004" type="c:ResourceType"/>
            </construction>
        </assignment>
        <inducement id="5">
            <construction>
                <resourceRef oid="10000000-0000-0000-0000-000000000005" type="c:ResourceType"/>
                <kind>account</kind>
                <intent>admin</intent>
            </construction>
        </inducement>
        <authorization id="3">
            <description>some authorization description</description>
            <decision>allow</decision>
            <action>http://example.com/uri1</action>
            <action>http://example.com/uri2</action>
            <object>
            	<description>object description</description>
            	<type>c:UserType</type>
            	<filter>
            		<q:substring>
						<q:matching>normIgnoreCase</q:matching>
						<q:path>c:name</q:path>
						<q:value>user</q:value>
					</q:substring>
				</filter>
				<special>self</special>
            </object>
            <item>c:name</item>
            <target>
            	<description>target description</description>
            	<type>c:UserType</type>
            	<filter>
            		<q:substring>
						<q:matching>normIgnoreCase</q:matching>
						<q:path>c:name</q:path>
						<q:value>user</q:value>
					</q:substring>
				</filter>
				<special>self</special>
            </target> 
        </authorization>
        <authorization id="4">
            <description>some authorization description 2</description>
            <decision>allow</decision>
            <action>http://example.com/uri3</action>
            <action>http://example.com/uri4</action>
        </authorization>
        <exclusion id="2">
            <description>A judge cannot be a pirate at the same time. At least not openly.</description>
            <targetRef oid="12345678-d34d-b33f-f00d-555555556666" type="c:RoleType"/>
            <policy>enforce</policy>
        </exclusion>
        <approverExpression>
            <script>
                <code>giveName + ' ' + familyName</code>
            </script>
        </approverExpression>
        <approverExpression>
            <script>
                <code>giveName + '-' + familyName</code>
            </script>
        </approverExpression>
        <automaticallyApproved>
            <script>
                <code>giveName + ' ' + familyName</code>
            </script>
        </automaticallyApproved>
    </role>

    <role xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
          xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
          xmlns:q="http://prism.evolveum.com/xml/ns/public/query-3">
        <name>Pirate</name>
        <roleType>business</roleType>
    </role>

	<org oid="00000000-8888-6666-0000-100000000085">
		<name>F0085</name>
		<description>The office of the most respectful Governor.</description>
		<displayName>Governor Office</displayName>
		<identifier>0001</identifier>
		<orgType>functional</orgType>
		<costCenter>CC0</costCenter>
		<locality>The Governor's Mansion</locality>
		<tenant>true</tenant>
	</org>

	<user oid="U1122334455" 
			xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
            xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
            xmlns:org='http://midpoint.evolveum.com/xml/ns/public/common/org-3'
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<name>elaine123</name>
		<parentOrgRef oid="00000000-8888-6666-0000-100000000085" type="c:OrgType"/> <!-- No "relation" in the ref means "member" -->
		<parentOrgRef oid="00000000-8888-6666-0000-100000000085" type="c:OrgType" relation="org:manager"/>
		<tenantRef oid="00000000-8888-6666-0000-100000000085"/>
		<fullName>Elaine Marley</fullName>
		<givenName>Elaine</givenName>
		<familyName>Marley</familyName>
		<title>Governor</title>
	</user>
	
	<object xsi:type="ReportOutputType" oid="1122334455"  xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<name>report1.pdf</name>
        <filePath>${midpointhome}/reports/report1.pdf</filePath>
        <reportRef oid="111223355"/>
     </object>

    <report xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
            xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
            xmlns:t="http://prism.evolveum.com/xml/ns/public/types-3"
            xmlns:xsd="http://www.w3.org/2001/XMLSchema"
            oid="AUDITLOG-3333-3333-TEST-10000000000"
            version="0">
        <name>Audit logs report</name>
        <description>Report made from audit records.</description>
        <template>
            <![CDATA[<jasperReport
                    xmlns="http://jasperreports.sourceforge.net/jasperreports"
                    name="testreport"
                    uuid="67e465c5-46ea-40d2-bea0-469c6cf38937">
                <property name="net.sf.jasperreports.awt.ignore.missing.font" value="true"/>
                <property name="net.sf.jasperreports.export.pdf.force.linebreak.policy" value="true"/>
                <import value="com.evolveum.midpoint.report.ReportUtils"/>
                <template><![CDATA[$P{BaseTemplateStyles}\]\]></template>
                <parameter name="BaseTemplateStyles" class="java.lang.String"/>
                <parameter name="LOGO_PATH" class="java.lang.String"/>
                <queryString language="hql">
                    <![CDATA[select aer.timestamp as timestamp,
							aer.initiatorName as initiator,
							aer.eventType as eventType,
							aer.eventStage as eventStage,
							aer.targetName as targetName,
							aer.targetType as targetType,
							aer.targetOwnerName as targetOwnerName,
							aer.outcome as outcome,
							aer.message as message,
							odo.delta as delta
							from RObjectDeltaOperation as odo
							join odo.record as aer
							where aer.timestamp >= '2000-01-01' and aer.timestamp <= '2020-12-31'
							order by aer.timestamp\]\]></queryString>
            </jasperReport>]]>
        </template>
        <templateStyle>
        <![CDATA[
         	<jasperTemplate xmlns="http://jasperreports.sourceforge.net/dtds/jaspertemplate.dtd"> 
 				<style fontSize="10" hAlign="Left" isDefault="true" isPdfEmbedded="false" name="Base" 
					   pdfEncoding="Cp1252" pdfFontName="Helvetica" vAlign="Middle"/> 
 				<style backcolor="#267994" fontSize="26" forecolor="#FFFFFF" isDefault="false" 
                 	   mode="Opaque" name="Title" style="Base"/>	 
 			</jasperTemplate>]]> 
        </templateStyle>
        <orientation>landscape</orientation>
        <export>pdf</export>
        <useHibernateSession>true</useHibernateSession>
        <field>
			<nameReport>timestamp</nameReport>
			<nameHeader>Timestamp</nameHeader>
			<itemPath>c:timestamp</itemPath>
			<sortOrderNumber>1</sortOrderNumber>
			<sortOrder>ascending</sortOrder>
			<width>12</width>
			<classType>xsd:dateTime</classType>
		</field>
        <dataSource>
            <providerClass>com.evolveum.midpoint.report.SomeCustomSuperProvider</providerClass>
            <springBean>true</springBean>
        </dataSource>
        <parent>true</parent>
        <subreport>
            <name>userList</name>
            <reportRef oid="12345678-1234-1234-1234-123456789012" type="c:ReportType"/>
        </subreport>
        <subreport>
            <name>someParameter</name>
            <reportRef oid="87654321-1234-1234-1234-123456789012" type="c:ReportType"/>
        </subreport>
        <configurationSchema>
            <definition>
                <xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                            xmlns:q="http://prism.evolveum.com/xml/ns/public/query-3"
                            xmlns:r="http://midpoint.evolveum.com/xml/ns/public/report"
                            elementFormDefault="qualified"
                            targetNamespace="http://midpoint.evolveum.com/xml/ns/public/report">

                    <xsd:import namespace="http://midpoint.evolveum.com/xml/ns/public/common/common-3"/>
                    <xsd:import namespace="http://prism.evolveum.com/xml/ns/public/query-3"/>

                    <xsd:element name="hqlQuery" type="xsd:string"/>
                    <xsd:element name="type" type="xsd:QName"/>
                    <xsd:element name="filter" type="q:SearchFilterType"/>
                    <xsd:element name="LOGO_PATH" type="xsd:string"/>
                    <xsd:element name="BaseTemplateStyles" type="xsd:string"/>
                    <xsd:element name="from" type="xsd:dateTime"/>
                    <xsd:element name="to" type="xsd:dateTime"/>
                    <xsd:element name="eventType" type="r:EventType"/>
                    <xsd:simpleType name="EventType">
                        <xsd:restriction base="xsd:string">
                            <xsd:enumeration value="createSession"/>
                            <xsd:enumeration value="getObject"/>
                        </xsd:restriction>
                    </xsd:simpleType>
                </xsd:schema>
            </definition>
        </configurationSchema>
        <configuration xmlns:r="http://midpoint.evolveum.com/xml/ns/public/report">
            <r:LOGO_PATH>src/test/resources/reports/logo.jpg</r:LOGO_PATH>
            <r:BaseTemplateStyles>src/test/resources/styles/midpoint_base_styles.jrtx</r:BaseTemplateStyles>
            <r:type>c:UserType</r:type>
        </configuration>
    </report>
    
	<valuePolicy oid="SECURITY-0000-0000-0000-000000000003"
        		xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
        		xmlns:t="http://prism.evolveum.com/xml/ns/public/types-3"
        		version="0">
    	<name>Default Password Policy</name>
    	<description>Default password policy</description>
    	<lifetime>
        	<expiration>999</expiration>
	        <warnBeforeExpiration>9</warnBeforeExpiration>
    	    <lockAfterExpiration>0</lockAfterExpiration>
        	<minPasswordAge>0</minPasswordAge>
        	<passwordHistoryLength>0</passwordHistoryLength>
    	</lifetime>
    	<stringPolicy>
        	<description>Testing string policy</description>
        	<limitations>
            	<minLength>5</minLength>
	            <maxLength>8</maxLength> 
    	        <minUniqueChars>3</minUniqueChars>
        	    <checkAgainstDictionary>true</checkAgainstDictionary>
            	<checkPattern />
            	<limit>
            		<description>Alphas</description>
	            	<minOccurs>1</minOccurs>
    	        	<maxOccurs>5</maxOccurs>
        	    	<mustBeFirst>false</mustBeFirst> 
            		<characterClass> 
          				<value>abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ</value>
	            	</characterClass> 
    	        </limit>
        	    <limit>
            		<description>Numbers</description>
            		<minOccurs>1</minOccurs>
	            	<maxOccurs>5</maxOccurs>
    	        	<mustBeFirst>false</mustBeFirst>
        	    	<characterClass>
            			<value>1234567890</value>
            		</characterClass>
            	</limit>
        	</limitations>
    	</stringPolicy>
	</valuePolicy>
    <securityPolicy xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3">
        <name>Security policy</name>
        <description>Security policy example</description>
<!--         <authentication> -->
<!--         </authentication> -->
        <credentials>
        	<password>
        		<passwordPolicyRef oid="SECURITY-0000-0000-0000-000000000003" type="c:ValuePolicyType"/>
        	</password>
        	<securityQuestions>
        		<question>
        			<identifier>http://example.com/uri3</identifier>
        			<enabled>false</enabled>
        		</question>
        	</securityQuestions>
        </credentials>
   </securityPolicy>

    <objectTemplate oid="10000000-0000-0000-0000-000000000223"
                    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
                    xmlns='http://midpoint.evolveum.com/xml/ns/public/common/common-3'
                    xmlns:c='http://midpoint.evolveum.com/xml/ns/public/common/common-3'
                    xmlns:t='http://prism.evolveum.com/xml/ns/public/types-3'>
        <name>Complex User Template Include</name>
        <mapping>
            <!-- This mapping is NOT initial so if will in fact FORCE fullname consistency -->
            <source>
                <path>$user/givenName</path>
            </source>
            <source>
                <path>$user/familyName</path>
            </source>
            <expression>
                <script>
                    <code>
                        givenName + ' ' + familyName
                    </code>
                </script>
            </expression>
            <target>
                <path>$user/fullName</path>
            </target>
            <condition>
                <script>
                    <code>givenName != null &amp;&amp; familyName != null</code>
                </script>
            </condition>
        </mapping>

        <!-- Unconditional automatic assignment of Blue Dummy resource -->
        <mapping>
            <expression>
                <value>
                    <construction>
                        <resourceRef oid="10000000-0000-0000-0000-000000000204" type="c:ResourceType"/>
                        <kind>account</kind>
                    </construction>
                </value>
            </expression>
            <target>
                <path>assignment</path>
            </target>
        </mapping>

    </objectTemplate>

    <lookupTable xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
                 xmlns:t="http://prism.evolveum.com/xml/ns/public/types-3">
        <name>first lookup</name>
        <description>description of lookuptable</description>
        <row id="1">
            <key>first key</key>
            <label>first label</label>
            <lastChangeTimestamp>2013-05-07T10:38:21.350+02:00</lastChangeTimestamp>
            <value>first value</value>
        </row>
        <row id="2">
            <key>2 key</key>
            <label>
                <t:orig>2 label</t:orig>
                <t:norm>2 label</t:norm>
            </label>
            <lastChangeTimestamp>2013-05-07T10:38:21.350+02:00</lastChangeTimestamp>
            <value>2 value</value>
        </row>
        <row id="3">
            <key>3 key</key>
            <label>
                <t:orig>3 label</t:orig>
                <t:norm>3 label</t:norm>
            </label>
            <lastChangeTimestamp>2013-05-07T10:38:21.350+02:00</lastChangeTimestamp>
            <value>3 value</value>
        </row>
    </lookupTable>

    <accessCertificationCampaign xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
                                 xmlns:icfs="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/resource-schema-3"
                                 xmlns:t="http://prism.evolveum.com/xml/ns/public/types-3"
                                 xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
                                 xmlns:q="http://prism.evolveum.com/xml/ns/public/query-3"
                                 xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instance-3">
        <name>All user assignments 1</name>
        <description>Certifies all users' assignments. Everything is certified by the administrator.</description>
        <trigger id="677504621">
            <timestamp>2015-12-18T23:59:59.999+01:00</timestamp>
            <handlerUri>http://midpoint.evolveum.com/xml/ns/public/certification/trigger/close-stage/handler-3</handlerUri>
        </trigger>
        <trigger id="677504622">
            <timestamp>2015-12-16T23:59:59.999+01:00</timestamp>
            <handlerUri>http://midpoint.evolveum.com/xml/ns/public/certification/trigger/close-stage-approaching/handler-3</handlerUri>
        </trigger>
        <trigger id="677504623">
            <timestamp>2015-12-18T11:59:59.999+01:00</timestamp>
            <handlerUri>http://midpoint.evolveum.com/xml/ns/public/certification/trigger/close-stage-approaching/handler-3</handlerUri>
        </trigger>
        <metadata>
            <createTimestamp>2015-12-04T00:37:08.885+01:00</createTimestamp>
            <creatorRef oid="00000000-0000-0000-0000-000000000002" type="c:UserType"><!-- administrator --></creatorRef>
            <createChannel>http://midpoint.evolveum.com/xml/ns/public/gui/channels-3#user</createChannel>
        </metadata>
        <definitionRef oid="068e0a87-b456-47c7-811a-5fd9b6f78099"
                       type="c:AccessCertificationDefinitionType"><!-- All user assignments --></definitionRef>
        <ownerRef oid="00000000-0000-0000-0000-000000000002" type="c:UserType"><!-- administrator --></ownerRef>
        <handlerUri>http://midpoint.evolveum.com/xml/ns/public/certification/handlers-3#direct-assignment</handlerUri>
        <remediationDefinition>
            <style>automated</style>
        </remediationDefinition>
        <stageDefinition>
            <number>1</number>
            <name>Administrator's review</name>
            <description>In this stage, the administrator has to review all the assignments of all users.</description>
            <duration>P14D</duration>
            <notifyBeforeDeadline>PT48H</notifyBeforeDeadline>
            <notifyBeforeDeadline>PT12H</notifyBeforeDeadline>
            <notifyOnlyWhenNoDecision>true</notifyOnlyWhenNoDecision>
            <reviewerSpecification>
                <defaultReviewerRef oid="00000000-0000-0000-0000-000000000002" type="c:UserType"><!-- administrator --></defaultReviewerRef>
            </reviewerSpecification>
        </stageDefinition>
        <startTimestamp>2015-12-04T00:38:03.031+01:00</startTimestamp>
        <state>inReviewStage</state>
        <stageNumber>1</stageNumber>
        <stage id="8">
            <number>1</number>
            <name>Administrator's review</name>
            <description>In this stage, the administrator has to review all the assignments of all users.</description>
            <startTimestamp>2015-12-04T00:38:00.708+01:00</startTimestamp>
            <endTimestamp>2015-12-18T23:59:59.999+01:00</endTimestamp>
        </stage>
        <case xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              id="1"
              xsi:type="c:AccessCertificationAssignmentCaseType">
            <objectRef oid="00000000-0000-0000-0000-000000000002" type="c:UserType"><!-- administrator --></objectRef>
            <targetRef oid="00000000-0000-0000-0000-000000000004" type="c:RoleType"><!-- Superuser --></targetRef>
            <stageNumber>1</stageNumber>
			<workItem id="1">
				<stageNumber>1</stageNumber>
				<assigneeRef oid="00000000-0000-0000-0000-000000000002" type="c:UserType"><!-- administrator --></assigneeRef>
				<output>
					<outcome>http://midpoint.evolveum.com/xml/ns/public/model/certification/outcome#notDecided</outcome>
				</output>
				<outputChangeTimestamp>2015-12-04T01:10:20.032+01:00</outputChangeTimestamp>
			</workItem>
            <currentStageCreateTimestamp>2015-12-04T00:38:00.708+01:00</currentStageCreateTimestamp>
            <currentStageDeadline>2015-12-18T23:59:59.999+01:00</currentStageDeadline>
            <currentStageOutcome>notDecided</currentStageOutcome>
            <assignment id="1">
                <targetRef oid="00000000-0000-0000-0000-000000000004" type="c:RoleType"><!-- Superuser --></targetRef>
            </assignment>
            <isInducement>false</isInducement>
        </case>
        <case xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              id="2"
              xsi:type="c:AccessCertificationAssignmentCaseType">
            <objectRef oid="00000000-0000-0000-0000-000000000002" type="c:UserType"><!-- administrator --></objectRef>
            <targetRef oid="00000000-0000-0000-0000-000000000008" type="c:RoleType"><!-- End user --></targetRef>
            <stageNumber>1</stageNumber>
			<workItem id="1">
				<stageNumber>1</stageNumber>
            	<assigneeRef oid="00000000-0000-0000-0000-000000000002" type="c:UserType"><!-- administrator --></assigneeRef>
				<output>
					<outcome>http://midpoint.evolveum.com/xml/ns/public/model/certification/outcome#accept</outcome>
				</output>
				<outputChangeTimestamp>2015-12-04T01:04:06.385+01:00</outputChangeTimestamp>
			</workItem>
            <currentStageCreateTimestamp>2015-12-04T00:38:00.708+01:00</currentStageCreateTimestamp>
            <currentStageDeadline>2015-12-18T23:59:59.999+01:00</currentStageDeadline>
            <currentStageOutcome>accept</currentStageOutcome>
            <assignment id="2">
                <targetRef oid="00000000-0000-0000-0000-000000000008" type="c:RoleType"><!-- End user --></targetRef>
            </assignment>
            <isInducement>false</isInducement>
        </case>
        <case xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              id="3"
              xsi:type="c:AccessCertificationAssignmentCaseType">
			<workItem id="1">
				<stageNumber>1</stageNumber>
            	<assigneeRef oid="00000000-0000-0000-0000-000000000002" type="c:UserType"><!-- administrator --></assigneeRef>
				<output>
					<outcome>http://midpoint.evolveum.com/xml/ns/public/model/certification/outcome#noResponse</outcome>
				</output>
				<outputChangeTimestamp>2015-12-04T01:10:08.670+01:00</outputChangeTimestamp>
			</workItem>
            <objectRef oid="00000000-0000-0000-0000-000000000002" type="c:UserType"><!-- administrator --></objectRef>
            <targetRef oid="214a489c-459d-4ac4-9778-585a00af11df" type="c:RoleType"><!-- r1 --></targetRef>
            <currentStageCreateTimestamp>2015-12-04T00:38:00.708+01:00</currentStageCreateTimestamp>
            <currentStageDeadline>2015-12-18T23:59:59.999+01:00</currentStageDeadline>
            <currentStageOutcome>noResponse</currentStageOutcome>
            <stageNumber>1</stageNumber>
            <assignment id="3">
                <targetRef oid="214a489c-459d-4ac4-9778-585a00af11df" type="c:RoleType"><!-- r1 --></targetRef>
            </assignment>
            <isInducement>false</isInducement>
        </case>
        <case xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              id="4"
              xsi:type="c:AccessCertificationAssignmentCaseType">
			<workItem id="1">
				<stageNumber>1</stageNumber>
				<assigneeRef oid="00000000-0000-0000-0000-000000000002" type="c:UserType"><!-- administrator --></assigneeRef>
				<output>
					<outcome>http://midpoint.evolveum.com/xml/ns/public/model/certification/outcome#revoke</outcome>
				</output>
				<outputChangeTimestamp>2015-12-04T01:10:13.814+01:00</outputChangeTimestamp>
			</workItem>
            <objectRef oid="ee53eba7-5c16-4c16-ad15-dd6a2360ab1a" type="c:UserType"><!-- u001 --></objectRef>
            <targetRef oid="ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2" type="c:ResourceType"><!-- Localhost OpenDJ (no extension schema) --></targetRef>
            <currentStageCreateTimestamp>2015-12-04T00:38:00.708+01:00</currentStageCreateTimestamp>
            <currentStageDeadline>2015-12-18T23:59:59.999+01:00</currentStageDeadline>
            <currentStageOutcome>revoke</currentStageOutcome>
            <stageNumber>1</stageNumber>
            <assignment id="1">
                <construction>
                    <resourceRef oid="ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2" type="c:ResourceType"><!-- Localhost OpenDJ (no extension schema) --></resourceRef>
                    <attribute>
                        <c:ref>ri:cn</c:ref>
                        <outbound>
                            <strength>strong</strength>
                            <expression>
                                <value>CN</value>
                            </expression>
                        </outbound>
                    </attribute>
                    <attribute>
                        <c:ref>ri:sn</c:ref>
                        <outbound>
                            <strength>strong</strength>
                            <expression>
                                <value>SN</value>
                            </expression>
                        </outbound>
                    </attribute>
                </construction>
            </assignment>
            <isInducement>false</isInducement>
        </case>
        <case xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              id="5"
              xsi:type="c:AccessCertificationAssignmentCaseType">
			<workItem id="1">
				<stageNumber>1</stageNumber>
            	<assigneeRef oid="00000000-0000-0000-0000-000000000002" type="c:UserType"><!-- administrator --></assigneeRef>
				<output>
					<outcome>http://midpoint.evolveum.com/xml/ns/public/model/certification/outcome#revoke</outcome>
				</output>
				<outputChangeTimestamp>2015-12-04T01:10:14.614+01:00</outputChangeTimestamp>
			</workItem>
            <objectRef oid="86591a19-bbbc-41cd-ad46-4cc3b6acfe55" type="c:UserType"><!-- u1 --></objectRef>
            <targetRef oid="00000000-0000-0000-0000-000000000008" type="c:RoleType"><!-- End user --></targetRef>
            <currentStageCreateTimestamp>2015-12-04T00:38:00.708+01:00</currentStageCreateTimestamp>
            <currentStageDeadline>2015-12-18T23:59:59.999+01:00</currentStageDeadline>
            <currentStageOutcome>revoke</currentStageOutcome>
            <stageNumber>1</stageNumber>
            <assignment id="1">
                <targetRef oid="00000000-0000-0000-0000-000000000008" type="c:RoleType"><!-- End user --></targetRef>
            </assignment>
            <isInducement>false</isInducement>
        </case>
        <case xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              id="6"
              xsi:type="c:AccessCertificationAssignmentCaseType">
			<workItem id="1">
				<stageNumber>1</stageNumber>
            	<assigneeRef oid="00000000-0000-0000-0000-000000000002" type="c:UserType"><!-- administrator --></assigneeRef>
				<output>
					<outcome>http://midpoint.evolveum.com/xml/ns/public/model/certification/outcome#reduce</outcome>
				</output>
				<outputChangeTimestamp>2015-12-04T01:10:15.375+01:00</outputChangeTimestamp>
			</workItem>
            <objectRef oid="86591a19-bbbc-41cd-ad46-4cc3b6acfe55" type="c:UserType"><!-- u1 --></objectRef>
            <targetRef oid="00000000-0000-0000-0000-000000000004" type="c:RoleType"><!-- Superuser --></targetRef>
            <currentStageCreateTimestamp>2015-12-04T00:38:00.708+01:00</currentStageCreateTimestamp>
            <currentStageDeadline>2015-12-18T23:59:59.999+01:00</currentStageDeadline>
            <currentStageOutcome>reduce</currentStageOutcome>
            <stageNumber>1</stageNumber>
            <assignment id="2">
                <targetRef oid="00000000-0000-0000-0000-000000000004" type="c:RoleType"><!-- Superuser --></targetRef>
            </assignment>
            <isInducement>false</isInducement>
        </case>
        <case xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              id="7"
              xsi:type="c:AccessCertificationAssignmentCaseType">
			<workItem id="1">
				<stageNumber>1</stageNumber>
            	<assigneeRef oid="00000000-0000-0000-0000-000000000002" type="c:UserType"><!-- administrator --></assigneeRef>
				<output>
					<outcome>http://midpoint.evolveum.com/xml/ns/public/model/certification/outcome#revoke</outcome>
				</output>
				<outputChangeTimestamp>2015-12-04T01:10:16.136+01:00</outputChangeTimestamp>
			</workItem>
            <objectRef oid="86591a19-bbbc-41cd-ad46-4cc3b6acfe55" type="c:UserType"><!-- u1 --></objectRef>
            <targetRef oid="214a489c-459d-4ac4-9778-585a00af11df" type="c:RoleType"><!-- r1 --></targetRef>
            <currentStageCreateTimestamp>2015-12-04T00:38:00.708+01:00</currentStageCreateTimestamp>
            <currentStageDeadline>2015-12-18T23:59:59.999+01:00</currentStageDeadline>
            <currentStageOutcome>revoke</currentStageOutcome>
            <stageNumber>1</stageNumber>
            <assignment id="3">
                <targetRef oid="214a489c-459d-4ac4-9778-585a00af11df" type="c:RoleType"><!-- r1 --></targetRef>
            </assignment>
            <isInducement>false</isInducement>
        </case>
    </accessCertificationCampaign>

    <service version="1">
        <name>lazyman vm</name>
        <serviceType>some service type</serviceType>
        <locality>bratislava</locality>
        <displayOrder>123</displayOrder>

        <linkRef oid="11223355"/>
        <assignment id="1">
            <construction>
                <resourceRef oid="10000000-0000-0000-0000-000000000004" type="c:ResourceType"/>
            </construction>
        </assignment>
        <inducement id="5">
            <construction>
                <resourceRef oid="10000000-0000-0000-0000-000000000005" type="c:ResourceType"/>
                <kind>account</kind>
                <intent>admin</intent>
            </construction>
        </inducement>
        <authorization id="3">
            <description>some authorization description</description>
            <decision>allow</decision>
            <action>http://example.com/uri1</action>
            <action>http://example.com/uri2</action>
            <object>
                <description>object description</description>
                <type>c:UserType</type>
                <filter>
                    <q:substring>
                        <q:matching>normIgnoreCase</q:matching>
                        <q:path>c:name</q:path>
                        <q:value>user</q:value>
                    </q:substring>
                </filter>
                <special>self</special>
            </object>
            <item>c:name</item>
            <target>
                <description>target description</description>
                <type>c:UserType</type>
                <filter>
                    <q:substring>
                        <q:matching>normIgnoreCase</q:matching>
                        <q:path>c:name</q:path>
                        <q:value>user</q:value>
                    </q:substring>
                </filter>
                <special>self</special>
            </target>
        </authorization>
        <authorization id="4">
            <description>some authorization description 2</description>
            <decision>allow</decision>
            <action>http://example.com/uri3</action>
            <action>http://example.com/uri4</action>
        </authorization>
        <exclusion id="2">
            <description>A judge cannot be a pirate at the same time. At least not openly.</description>
            <targetRef oid="12345678-d34d-b33f-f00d-555555556666" type="c:RoleType"/>
            <policy>enforce</policy>
        </exclusion>
        <approverExpression>
            <script>
                <code>giveName + ' ' + familyName</code>
            </script>
        </approverExpression>
        <approverExpression>
            <script>
                <code>giveName + '-' + familyName</code>
            </script>
        </approverExpression>
        <automaticallyApproved>
            <script>
                <code>giveName + ' ' + familyName</code>
            </script>
        </automaticallyApproved>
    </service>

	<case version="1" xsi:type="c:CaseType">
		<name>case1</name>
		<operationExecution id="1">
			<taskRef oid="task-oid-1" type="TaskType" />
			<initiatorRef oid="user-oid-1" type="UserType" />
			<status>fatal_error</status>
		</operationExecution>
		<operationExecution id="2">
			<status>warning</status>
		</operationExecution>
		<operationExecution id="3">
			<taskRef oid="task-oid-2" type="TaskType" />
			<status>success</status>
		</operationExecution>
	</case>

</objects>
