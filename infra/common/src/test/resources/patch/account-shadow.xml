<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!-- Copyright (c) 2011 Evolveum -->
<!-- -->
<!-- The contents of this file are subject to the terms -->
<!-- of the Common Development and Distribution License -->
<!-- (the License). You may not use this file except in -->
<!-- compliance with the License. -->
<!-- -->
<!-- You can obtain a copy of the License at -->
<!-- http://www.opensource.org/licenses/cddl1 or -->
<!-- CDDLv1.0.txt file in the source code distribution. -->
<!-- See the License for the specific language governing -->
<!-- permission and limitations under the License. -->
<!-- -->
<!-- If applicable, add the following below the CDDL Header, -->
<!-- with the fields enclosed by brackets [] replaced by -->
<!-- your own identifying information: -->
<!-- -->
<!-- Portions Copyrighted 2011 [name of copyright owner] -->
<!-- Portions Copyrighted 2010 Forgerock -->
<!-- -->
<object xsi:type="AccountShadowType" xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<name>janko</name>
	<resource oid="ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2" version="2">
		<name>Localhost OpenDJ</name>
		<type>http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resourceaccessconfiguration-1.xsd</type>
		<namespace>http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2</namespace>
		<configuration>
			<idc:ConnectorConfiguration
				xmlns:iccldap="http://midpoint.evolveum.com/xml/ns/resource/idconnector/bundle/org.identityconnectors.ldap/org.identityconnectors.ldap.LdapConnector/1.0.5531"
				xmlns:ns3="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd" xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd"
				xmlns:idc="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/configuration-1.xsd" xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2"
				xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd">
				<idc:ConnectorRef bundleName="org.identityconnectors.ldap" bundleVersion="1.0.5531"
					connectorName="org.identityconnectors.ldap.LdapConnector">
					<idc:ConnectorHostRef>/configuration/connectorHost[@oid='1234']/configuration</idc:ConnectorHostRef>
				</idc:ConnectorRef>
				<idc:BundleProperties>
					<iccldap:port>1389</iccldap:port>
					<iccldap:host>localhost</iccldap:host>
					<iccldap:baseContexts>dc=example,dc=com</iccldap:baseContexts>
					<iccldap:principal>cn=directory manager</iccldap:principal>
					<iccldap:credentials>secret</iccldap:credentials>
				</idc:BundleProperties>
				<idc:PoolConfigOption maxIdle="30" maxObjects="120" maxWait="5000" minEvictTimeMillis="5000"
					minIdle="5" />
				<idc:OperationTimeouts>
					<idc:OperationTimeout name="create" timeout="50000" />
					<idc:OperationTimeout name="update" timeout="50000" />
					<idc:OperationTimeout name="delete" timeout="50000" />
					<idc:OperationTimeout name="test" timeout="50000" />
					<idc:OperationTimeout name="scriptOnConnector" timeout="50000" />
					<idc:OperationTimeout name="scriptOnResource" timeout="50000" />
					<idc:OperationTimeout name="get" timeout="50000" />
					<idc:OperationTimeout name="authenticate" timeout="50000" />
					<idc:OperationTimeout name="search" timeout="50000" />
					<idc:OperationTimeout name="validate" timeout="50000" />
					<idc:OperationTimeout name="sync" timeout="50000" />
					<idc:OperationTimeout name="schema" timeout="50000" />
				</idc:OperationTimeouts>
			</idc:ConnectorConfiguration>
		</configuration>
		<schema>
			<xsd:schema elementFormDefault="qualified"
				targetNamespace="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2"
				xmlns:ns3="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd" xmlns:r="http://midpoint.evolveum.com/xml/ns/public/resource/resource-schema-1.xsd"
				xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd"
				xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2"
				xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd">
				<xsd:import namespace="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd" />
				<xsd:import namespace="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd" />
				<xsd:import namespace="http://midpoint.evolveum.com/xml/ns/public/resource/resource-schema-1.xsd" />
				<xsd:complexType name="Account">
					<xsd:annotation>
						<xsd:appinfo>
							<r:identifier ref="ids:__UID__" />
							<r:secondaryIdentifier ref="ids:__NAME__" />
							<r:displayName ref="ri:description" />
							<r:descriptionAttribute ref="ri:description" />
							<r:nativeObjectClass>__ACCOUNT__</r:nativeObjectClass>
							<r:accountType default="true" />
						</xsd:appinfo>
					</xsd:annotation>
					<xsd:complexContent>
						<xsd:extension base="r:ResourceObjectClass">
							<xsd:sequence>
								<xsd:element ref="ids:__NAME__">
									<xsd:annotation>
										<xsd:appinfo>
											<r:nativeAttributeName>__NAME__</r:nativeAttributeName>
											<r:attributeDisplayName>DN</r:attributeDisplayName>
										</xsd:appinfo>
									</xsd:annotation>
								</xsd:element>
								<xsd:element minOccurs="0" name="description" type="xsd:string">
									<xsd:annotation>
										<xsd:appinfo>
											<r:help>DESCRIPTION_NAME_HELP_KEY</r:help>
											<r:nativeAttributeName>description</r:nativeAttributeName>
										</xsd:appinfo>
									</xsd:annotation>
								</xsd:element>
								<xsd:element ref="ids:__PASSWORD__">
									<xsd:annotation>
										<xsd:appinfo>
											<r:attributeFlag>PASSWORD</r:attributeFlag>
											<r:classifiedAttribute>
												<r:encryption>HASH</r:encryption>
												<r:classificationLevel>password</r:classificationLevel>
											</r:classifiedAttribute>
											<r:nativeAttributeName>__PASSWORD__</r:nativeAttributeName>
										</xsd:appinfo>
									</xsd:annotation>
								</xsd:element>
								<xsd:element name="sn" type="xsd:string">
									<xsd:annotation>
										<xsd:appinfo>
											<r:nativeAttributeName>sn</r:nativeAttributeName>
										</xsd:appinfo>
									</xsd:annotation>
								</xsd:element>
								<xsd:element name="cn" type="xsd:string">
									<xsd:annotation>
										<xsd:appinfo>
											<r:nativeAttributeName>cn</r:nativeAttributeName>
										</xsd:appinfo>
									</xsd:annotation>
								</xsd:element>
								<xsd:element minOccurs="0" ref="ids:__UID__">
									<xsd:annotation>
										<xsd:appinfo>
											<r:attributeFlag>NOT_UPDATEABLE</r:attributeFlag>
											<r:nativeAttributeName>__UID__</r:nativeAttributeName>
										</xsd:appinfo>
									</xsd:annotation>
								</xsd:element>
								<xsd:element minOccurs="0" name="givenName" type="xsd:string">
									<xsd:annotation>
										<xsd:appinfo>
											<r:nativeAttributeName>givenName</r:nativeAttributeName>
										</xsd:appinfo>
									</xsd:annotation>
								</xsd:element>
								<xsd:element minOccurs="0" name="title" type="xsd:string" />
							</xsd:sequence>
						</xsd:extension>
					</xsd:complexContent>
				</xsd:complexType>
				<xsd:complexType name="Group">
					<xsd:annotation>
						<xsd:appinfo>
							<r:identifier ref="ids:__UID__" />
							<r:secondaryIdentifier ref="ids:__NAME__" />
							<r:displayName ref="ri:description" />
							<r:descriptionAttribute ref="ri:description" />
							<r:nativeObjectClass>__GROUP__</r:nativeObjectClass>
							<r:container />
						</xsd:appinfo>
					</xsd:annotation>
					<xsd:complexContent>
						<xsd:extension base="r:ResourceObjectClass">
							<xsd:sequence>
								<xsd:element ref="ids:__NAME__">
									<xsd:annotation>
										<xsd:appinfo>
											<r:nativeAttributeName>__NAME__</r:nativeAttributeName>
										</xsd:appinfo>
									</xsd:annotation>
								</xsd:element>
								<xsd:element minOccurs="0" name="description" type="xsd:string">
									<xsd:annotation>
										<xsd:appinfo>
											<r:help>DESCRIPTION_NAME_HELP_KEY</r:help>
											<r:nativeAttributeName>description</r:nativeAttributeName>
										</xsd:appinfo>
									</xsd:annotation>
								</xsd:element>
								<xsd:element ref="ids:__UID__">
									<xsd:annotation>
										<xsd:appinfo>
											<r:attributeFlag>NOT_UPDATEABLE</r:attributeFlag>
											<r:nativeAttributeName>__UID__</r:nativeAttributeName>
										</xsd:appinfo>
									</xsd:annotation>
								</xsd:element>
							</xsd:sequence>
						</xsd:extension>
					</xsd:complexContent>
				</xsd:complexType>
			</xsd:schema>
		</schema>

		<schemaHandling>
			<accountType default="true">
				<name>Default Account</name>
				<objectClass xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">ri:Account</objectClass>
				<attribute ref="ids:__NAME__" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd"
					xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2"
					xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd">
					<name>Distinguished Name</name>
					<access>create</access>
					<access>read</access>
					<outbound default="true" xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd">
						<valueExpression>concat('uid=', $c:user/c:name, ',ou=people,dc=example,dc=com')</valueExpression>
					</outbound>
				</attribute>
				<attribute ref="ids:__UID__" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd"
					xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2"
					xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd">
					<name>Entry UUID</name>
					<access>read</access>
				</attribute>
				<attribute ref="ri:cn"
					xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">
					<name>Common Name</name>
					<access>create</access>
					<access>read</access>
					<access>update</access>
					<outbound>
						<valueExpression xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd">$i:user/i:fullName</valueExpression>
					</outbound>
					<inbound>
						<valueFilter type="http://midpoint.evolveum.com/xml/ns/public/common/value-filter-1.xsd#emptyFilter" />
						<target>
							declare namespace i="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd";
							declare namespace c="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd";
							$c:user/i:fullName
                        </target>
					</inbound>
				</attribute>
				<attribute ref="ri:sn"
					xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">
					<name>Surname</name>
					<access>create</access>
					<access>read</access>
					<access>update</access>
					<outbound>
						<valueExpression xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd">$i:user/i:familyName</valueExpression>
					</outbound>
				</attribute>
				<attribute ref="ri:givenName"
					xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">
					<name>Given Name</name>
					<access>create</access>
					<access>read</access>
					<access>update</access>
					<outbound>
						<valueExpression xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd">$i:user/i:givenName</valueExpression>
					</outbound>
				</attribute>
				<attribute ref="ri:description"
					xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">
					<outbound default="true">
						<value xmlns:ns4="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd" xmlns:ns3="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd"
							xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd" xmlns:ns6="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd"
							xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd">Created by IDM</value>
					</outbound>
				</attribute>
				<attribute ref="ri:title"
					xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">
					<name>Title before name</name>
					<access>create</access>
					<access>read</access>
					<access>update</access>
					<inbound>
						<target>
							declare namespace i="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd";
							declare namespace c="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd";
							$c:user/i:honorificPrefix
                        </target>
					</inbound>
				</attribute>
				<attribute ref="ri:notDefinedAttributeInTheResourceSchema"
					xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">
					<name>Not defined attribute in the resource schema</name>
					<access>create</access>
					<access>read</access>
					<access>update</access>
					<inbound>
						<target>
							declare namespace c="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd";
							$c:user/c:familyName
                        </target>
					</inbound>
				</attribute>
			</accountType>
		</schemaHandling>
	</resource>
	<objectClass xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">ri:Account</objectClass>
	<attributes>
		<vr0:cn xmlns:ns3="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd"
			xmlns:vr0="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">jan prvy</vr0:cn>
		<vr1:__NAME__ xmlns:ns3="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd"
			xmlns:vr1="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd">uid=janko nemenny,ou=people,dc=example,dc=com</vr1:__NAME__>
		<vr0:sn xmlns:ns3="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd"
			xmlns:vr0="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">prvy</vr0:sn>
		<vr1:__PASSWORD__ xmlns:ns3="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd"
			xmlns:vr1="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd">janco</vr1:__PASSWORD__>
		<vr0:givenName xmlns:ns3="http://midpoint.evolveum.com/xml/ns/public/common/common-1.xsd"
			xmlns:vr0="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">junit test given name</vr0:givenName>
		<dj:givenName xmlns:dj="http://midpoint.evolveum.com/xml/ns/samples/localhostOpenDJ">James Jr.</dj:givenName>
		<vr0:title xmlns:vr0="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">Mr.</vr0:title>
	</attributes>
</object>
